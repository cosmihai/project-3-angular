<div class="user-box">
  <h4>Create your cocktail</h4>
  <hr>

  <form (ngSubmit)="submitForm(form)" #form="ngForm" novalidate [ngClass]="{'is-processing': processing}">

    <div class="field" [ngClass]="{'has-error': feedbackEnabled && nameField.errors}">
      <label for="name">Name:</label>
      <input type="text" name="name" [(ngModel)]="cocktail.name"  #nameField="ngModel" required minlength="2">
      <div *ngIf="feedbackEnabled && nameField.errors">
        <p *ngIf="nameField.errors.required" class="validation">cocktail name required</p>
        <p *ngIf="nameField.errors.minlength" class="validation">cocktail name is too short</p>
      </div>
    </div>

    <div class="field" [ngClass]="{'has-error': feedbackEnabled && nameField.errors}">
      <label for="glass">Type of glass:</label>
      <input type="text" name="glass" [(ngModel)]="cocktail.glass"  #glassField="ngModel" required >
      <div *ngIf="feedbackEnabled && glassField.errors">
        <p *ngIf="glassField.errors.required" class="validation"> glass type required</p>
      </div>
    </div>

    <div class="field">
      <label for="category">Category:</label>
      <input type="text" name="category" [(ngModel)]="cocktail.category">
    </div>

    <div class="field">
      <label for="imageUrl">Upload cocktail photo...</label>
      <input type="text" name="imageUrl" [(ngModel)]="cocktail.imageUrl">
    </div>

    <div class="field">
      <label for="garnish">Garnish:</label>
      <input type="text" name="garnish" [(ngModel)]="cocktail.garnish">
    </div>

    <div class="field" [ngClass]="{'has-error': feedbackEnabled && nameField.errors}">
      <label for="preparation">Preparation:</label>
      <textarea name="preparation" [(ngModel)]="cocktail.preparation" #preparationField="ngModel" cols="30" rows="10" required></textarea>
      <div *ngIf="feedbackEnabled && preparationField.errors">
        <p *ngIf="preparationField.errors.required" class="validation"> How do you prepare this cocktail???</p>
      </div>
    </div>

    <div class="field">
      <label for="ingredients">Ingredients:</label>
      <input type="text" name="unit" [(ngModel)]="cocktailIngredient.unit" placeholder="unit">
      <input type="number" name="amount" [(ngModel)]="cocktailIngredient.amount" placeholder="amount">
      <input type="text" name="ingredient" [(ngModel)]="cocktailIngredient.ingredient" placeholder="ingredient">
      <input type="text" name="label" [(ngModel)]="cocktailIngredient.label" placeholder="a specific product">
      <button type="button"(click)="addIngredient(cocktailIngredient.unit, cocktailIngredient.amount, cocktailIngredient.ingredient, cocktailIngredient.label)">+</button>
      <p *ngIf="ingredientsArray.length">added {{ingredientsArray.length}} ingredients</p>
    </div>

    <div class="field submit">
      <button class="menu-button" type="submit" [disabled]="processing">Submit</button>
      <div *ngIf="feedbackEnabled && form.invalid">
        <p class="validation">there are errors in the form, please review the fields</p>
      </div>
    </div>

  </form>

</div>
